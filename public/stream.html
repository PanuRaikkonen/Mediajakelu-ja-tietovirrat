<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="css/output.css" rel="stylesheet" />
    <script src="/socket.io/socket.io.js"></script>
    <script defer src="chat.js"></script>
    <title>StreamTest</title>
    <link href="https://vjs.zencdn.net/7.20.2/video-js.css" rel="stylesheet" />
    <!-- Forest -->
    <link
      href="https://unpkg.com/@videojs/themes@1/dist/forest/index.css"
      rel="stylesheet"
    />
    <link href="css/vjs-mystyle.css" type="text/css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>
  <body class="scrollbar-hide">
    <div class="flex flex-col flex-1 min-h-screen h-100% max-h-screen">
      <section
        class="bg-clr-russian-violet text-clr-rubine-red flex justify-center font-bold text-3xl lg:text-4xl"
      >
        <a class="h-16 flex items-center" href="./">
          MAHDOLLISUUKSIEN MAISEMIA
        </a>
      </section>
      <main class="flex flex-row flex-1 bg-mainImage bg-cover">
        <div class="flex flex-1 flex-col lg:flex-row">
          <div
            class="border-4 border-clr-rubine-red flex flex-1 lg:my-3 lg:ml-5 mx-1 my-1 max-w-full"
          >
            <video
              id="my-video"
              class="video-js vjs-mystyle absolute overflow-hidden w-auto min-h-full min-w-full max-w-none"
            >
              <!-- <source
                src="http://195.148.104.124:1935/jakelu/panurai/playlist.m3u8"
                type="application/x-mpegURL"
              /> -->
              <source src="stream.mp4" type="video/mp4" />
              <p class="vjs-no-js">
                To view this video please enable JavaScript, and consider
                upgrading to a web browser that
                <a
                  href="https://videojs.com/html5-video-support/"
                  target="_blank"
                  >supports HTML5 video</a
                >
              </p>
            </video>
          </div>
          <div
            class="h-2/5 overflow-hidden mx-1 lg:h-full lg:mx-3 lg:mt-3 lg:w-1/6"
          >
            <div
              id="chat-scroll"
              class="lg:h-5/6 h-3/4 border-4 relative border-clr-rubine-red mr-1 flex-wrap min-w-full max-w-fit scrollbar-hide overflow-scroll"
            >
              <div id="usernameBox" class="flex absolute text-xl box-center">
                <form
                  id="join"
                  autocomplete="off"
                  class="bg-clr-russian-violet rounded-lg p-4"
                >
                  <h3 class="text-white p-2 underline">
                    Choose a chat username
                  </h3>
                  <input
                    type="text"
                    id="username"
                    placeholder="username"
                    class="p-2"
                  />
                  <button
                    type="submit"
                    class="text-white bg-clr-old-mauve rounded-lg p-3 w-full mt-2"
                    id="usernameBtn"
                  >
                    Join
                  </button>
                  <p id="taken" class="text-red-600 pt-0.5 uppercase"></p>
                </form>
              </div>
              <ul id="messages" class="h-28"></ul>
            </div>
            <div class="flex">
              <form class="pt-2 flex flex-row flex-grow" id="chat-input" autocomplete="off">
                <input
                  type="text"
                  id="m"
                  placeholder="message"
                  class="w-5/6 border-2 text-xl border-clr-old-mauve bg-black text-white pl-4 ml-1 lg:h-24 flex-grow resize-none"
                ></input>
                <button
                  type="submit"
                  class="px-6 bg-clr-rubine-red uppercase ml-1 font-bold h-14 mr-1 lg:h-24"
                  id="chatBtn"
                >
                  Send
                </button>
              </form>
            </div>
          </div>
        </div>
      </main>
    </div>
    <footer
      class="bg-clr-russian-violet flex flex-col p-5 justify-around items-center lg:px-3 text-white text-xl lg:flex-row"
    >
      <div>
        <a href="https://www.metropolia.fi">
          <img
            src="https://mahdollisuuksienmaisemia.metropolia.fi/wp-content/uploads/2022/04/metropolia-logo-white-transparent-bg.png"
          />
        </a>
      </div>
      <div>Kulttuurihyvinvointi@metropolia.fi</div>
      <div>#mahdollisuuksienmaisemia</div>
      <div>
        <a
          class="fa fa-facebook face"
          href="https://www.facebook.com/mahdollisuuksienmaisemia"
        ></a>
        <a
          class="fa fa-instagram insta"
          href="https://www.instagram.com/mahdollisuuksienmaisemia/"
        ></a>
        <a
          class="fa fa-twitter twitter"
          href="https://twitter.com/m_maisemia"
        ></a>
      </div>
    </footer>
    <script src="https://vjs.zencdn.net/7.20.2/video.min.js"></script>
    <script>
      let myPlayer = document.querySelector('.video-js');

      // console.log(myPlayer);

      videojs(myPlayer, {
        controls: true,
        autoplay: false,
        preload: 'auto',
        poster: './css/img/mainIMG.png',
        aspectRatio: '16:9',
      });

      
    </script>
  </body>
</html>
