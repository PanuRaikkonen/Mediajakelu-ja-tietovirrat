<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="css/output.css" rel="stylesheet" />
    <script src="/socket.io/socket.io.js"></script>
    <script defer src="chat.js"></script>
    <title>StreamTest</title>
    <link href="https://vjs.zencdn.net/7.20.2/video-js.css" rel="stylesheet" />
    <!-- Forest -->
    <link
      href="https://unpkg.com/@videojs/themes@1/dist/forest/index.css"
      rel="stylesheet"
    />
    <link href="css/vjs-mystyle.css" type="text/css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>
  <body class="scrollbar-hide">
    <div class="flex flex-col flex-1 min-h-screen h-100% max-h-screen">
      <section
        class="bg-clr-russian-violet text-clr-rubine-red font-bold text-2xl"
      >
        <a class="h-16 flex items-center justify-center" href="./">
          MAHDOLLISUUKSIEN MAISEMIA
        </a>
      </section>
      <main class="flex flex-row flex-1 bg-mainImage bg-cover">
        <div class="flex flex-1 flex-col lg:flex-row">
          <div
            class="border-4 border-clr-rubine-red flex flex-1 lg:my-3 lg:ml-5 mx-1 my-1 max-w-full"
          >
            <video
              id="my-video"
              class="video-js vjs-mystyle absolute overflow-hidden w-auto min-h-full min-w-full max-w-none"
            >
              <!-- <source
                  src="http://195.148.104.124:1935/jakelu/tailwind/playlist.m3u8"
                  type="application/x-mpegURL"
                /> -->
              <source src="stream.mp4" type="video/mp4" />
              <p class="vjs-no-js">
                To view this video please enable JavaScript, and consider
                upgrading to a web browser that
                <a
                  href="https://videojs.com/html5-video-support/"
                  target="_blank"
                  >supports HTML5 video</a
                >
              </p>
            </video>
          </div>
          <div class="h-2/5 overflow-hidden mx-1 lg:h-full lg:mx-3 lg:mt-3">
            <div
              class="lg:h-5/6 h-3/4 border-4 border-clr-rubine-red mr-1 flex-wrap min-w-full max-w-fit scrollbar-hide overflow-scroll"
            >
              <ul id="messages" class="h-28"></ul>
            </div>
            <div class="flex">
              <form class="pt-2 flex flex-row flex-grow" id="msg-input">
                <textarea
                  type="text"
                  id="m"
                  placeholder="message"
                  class="w-5/6 border-2 border-clr-old-mauve bg-black text-white pl-4 ml-1 lg:h-24 flex-grow resize-none"
                ></textarea>
                <input
                  type="text"
                  id="nickname"
                  placeholder="sender name"
                  value=""
                  class="rounded-lg border-2 border-clr-old-mauve pl-4 hidden"
                />
                <button
                  type="submit"
                  class="px-6 bg-clr-rubine-red uppercase ml-1 font-bold h-14 mr-1 lg:h-24"
                >
                  Send
                </button>
                <input
                  id="room-input"
                  type="text"
                  placeholder="room name"
                  class="ml-1 rounded-lg border-2 border-clr-old-mauve pl-4 hidden"
                />
                <button
                  id="room-button"
                  type="button"
                  class="px-8 rounded-md bg-clr-rubine-red uppercase ml-1 font-bold hidden"
                ></button>
              </form>
            </div>
          </div>
        </div>
      </main>

      <form id="join" class="hidden">
        <input type="text" id="username" />
        <button type="submit">Join</button>
      </form>
      <!-- <form id="msg-input">
        <input type="text" id="nickname" placeholder="sender name" value="" />
        <input type="text" id="m" placeholder="message" />
        <button type="submit">Send</button>
        <input id="room-input" value="2" type="text" placeholder="room name" />
        <button id="room-button" type="button">Join Room</button>
      </form> -->
    </div>
    <footer
      class="bg-clr-russian-violet h-36 flex flex-col p-5 justify-around items-center lg:px-3 text-white text-xl lg:flex-row"
    >
      <div>
        <a href="https://www.metropolia.fi">
          <img
            src="https://mahdollisuuksienmaisemia.metropolia.fi/wp-content/uploads/2022/04/metropolia-logo-white-transparent-bg.png"
          />
        </a>
      </div>
      <div>Kulttuurihyvinvointi@metropolia.fi</div>
      <div>#mahdollisuuksienmaisemia</div>
      <div>
        <a
          class="fa fa-facebook"
          href="https://www.facebook.com/mahdollisuuksienmaisemia"
        ></a>
        <a
          class="fa fa-instagram"
          href="https://www.instagram.com/mahdollisuuksienmaisemia/"
        ></a>
        <a class="fa fa-twitter" href="https://twitter.com/m_maisemia"></a>
      </div>
    </footer>
    <script src="https://vjs.zencdn.net/7.20.2/video.min.js"></script>
    <script>
      let myPlayer = document.querySelector('.video-js');

      console.log(myPlayer);

      videojs(myPlayer, {
        controls: true,
        autoplay: false,
        preload: 'auto',
        poster: './css/img/mainIMG.png',
        aspectRatio: '16:9',
      });
    </script>
  </body>
</html>
